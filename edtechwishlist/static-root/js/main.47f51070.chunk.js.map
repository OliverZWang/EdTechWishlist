{"version":3,"sources":["logo.svg","ideas/buttons.js","ideas/detail.js","lookup/components.js","ideas/create.js","ideas/lookup.js","ideas/list.js","ideas/components.js","App.js","reportWebVitals.js","index.js"],"names":["ActionButton","props","idea","action","className","actionDisplay","display","onClick","event","preventDefault","type","console","log","Idea","match","window","location","pathname","urlIdeaId","groups","ideaId","isDetail","id","content","user","href","backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","responseType","open","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","setRequestHeader","onload","response","status","onerror","e","send","IdeaCreate","textAreaRef","React","createRef","didPost","handleBackendUpdate","alert","onSubmit","newValue","current","value","ref","required","IdeasList","useState","ideasInit","setIdeasInit","ideas","setIdeas","ideasDidSet","setIdeasDidSet","useEffect","final","newIdeas","concat","username","apiIdeaList","map","item","index","IdeasComponent","canPost","setNewIdeas","newIdea","tempNewIdeas","unshift","IdeaDetailComponent","didLookup","setDidLookup","setIdea","apiIdeaDetail","App","src","logo","alt","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","appElement","getElementById","ReactDOM","render","StrictMode","createElement","ideasElement","dataset","querySelectorAll","forEach","container"],"mappings":"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","file":"static/js/main.47f51070.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","\nimport React from 'react'\n// useEffect: run HTTP request, do a lookup on server\n\n\n\nexport function ActionButton(props){\n    const {idea, action} = props\n    // const [justClicked, setJustClicked] = useState(1)\n    const className = props.className ? props.className : 'btn btn-primary btn-sm'\n    const actionDisplay = action.display ? action.display : 'Action'\n    const handleClick = (event) =>{\n        event.preventDefault()\n        if (action.type === 'delete'){\n            console.log(\"Trying to delete the idea\")\n            \n            // setJustClicked(justClicked+1)\n            \n        }\n    }\nreturn <button className={className} onClick={handleClick} >{actionDisplay} </button>\n}","\nimport React from 'react'\n\nimport {ActionButton} from './buttons'\n\nexport function Idea(props){\n    const {idea} = props\n    const className = props.className ? props.className : 'col-10 mx-auto col-md-6'\n\n\n    var path = window.location.pathname\n    \n    var match = path.match(/(?<ideaId>\\d+)/)\n    var urlIdeaId = match ? match.groups.ideaId : -1\n\n    const isDetail = `${idea.id}` === `${urlIdeaId}`\n    \n\n\n\n    const handleLink = (event) =>{\n        event.preventDefault()\n        window.location.href = `/${idea.id}`\n    }\n\n    \n\n    \n    return <div className={className}>\n        <p>{idea.id} - {idea.content} - {idea.user}</p>\n        <div>\n            <ActionButton idea={idea} action={{type: \"delete\", display: \"Delete\"}} />\n            <br/>\n            <ActionButton idea={idea} action={{type: \"comment\", display: \"Comment\"}} />\n            <br/>\n            {isDetail ? null : <button className='btn btn-outline-primary btn-sm' onClick={handleLink}>View</button>}\n        </div>\n    </div>\n}","\nfunction getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\n\nexport function backendLookup(method, endpoint, callback, data){\n    let jsonData ;\n    if(data){\n        jsonData = JSON.stringify(data)\n    }\n    const xhr = new XMLHttpRequest()\n    // const method = 'GET'\n    const url = `http://localhost:8000${endpoint}`\n    xhr.responseType = 'json'\n    xhr.open(method, url)\n    const csrftoken = getCookie('csrftoken');\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\")\n    // alert(\"token is\" + csrftoken)\n    if(csrftoken){\n        // xhr.setRequestHeader(\"HTTP_X_REQUESTED_WITH\", \"XMLHttpRequest\")\n        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\")\n        xhr.setRequestHeader(\"X-CSRFToken\", csrftoken)\n    }\n    \n    xhr.onload = function(){\n        // console.log(\"Response is\"+xhr.response['response'])\n        \n        callback(xhr.response, xhr.status)\n\n    }\n    xhr.onerror = function(e){\n        console.log(e)\n        callback({\"message\": \"The request was an error\"}, 400)\n    }\n\n    xhr.send(jsonData)\n}\n\n","import React from 'react'\n\nimport {apiIdeaCreate} from './lookup'\n\n\nexport function IdeaCreate(props){\n\n    const textAreaRef = React.createRef()\n    const didPost = props\n\n    const handleBackendUpdate = (response, status)=>{\n\n        if(status === 201){\n            didPost(response)\n        }\n        else{\n            console.log(response)\n            alert(\"An error occured. Please try again. \")\n        }\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault()\n        const newValue = textAreaRef.current.value\n        //backend api request\n        apiIdeaCreate(newValue, handleBackendUpdate)\n        \n        textAreaRef.current.value = ''\n    }\n    return <div className={props.className}>\n            <form onSubmit={handleSubmit}>\n                <textarea ref={textAreaRef} required={true} className='form-control' name='idea'>\n\n                </textarea>\n                <button type='submit' className='btn btn-primary my-3'>Post Idea</button>\n            </form>\n        </div>\n}","import {backendLookup} from '../lookup'\n\n\nexport function apiIdeaCreate(newIdea, callback){\n    backendLookup(\"POST\", \"/ideas/create/\", callback, {content: newIdea})\n}\n\n\nexport function apiIdeaList(username, callback){\n    let endpoint = \"/ideas/list/\"\n    if(username){\n        endpoint = `/ideas/list/?username=${username}`\n    }\n    backendLookup(\"GET\", endpoint, callback)\n}\n\nexport function apiIdeaDetail(ideaId, callback){\n\n    backendLookup(\"GET\", `/ideas/${ideaId}`, callback)\n}","import React, {useEffect, useState} from 'react'\n// useEffect: run HTTP request, do a lookup on server\n\nimport {apiIdeaList} from './lookup'\nimport {Idea} from './detail'\n\n\nexport function IdeasList(props){\n    // console.log(props.newIdeas)\n    const [ideasInit, setIdeasInit] = useState([])\n\n\n    const [ideas, setIdeas] = useState([])\n\n    //to prevent load from being called infinitely\n    const [ideasDidSet, setIdeasDidSet] = useState(false)\n    // setIdeasInit([...props.newIdeas].concat(ideasInit))\n\n    useEffect(()=>{\n        // console.log(\"This is called\")\n        // console.log(\"what is ideaInit? \" + ideasInit)\n        const final = [...props.newIdeas].concat(ideasInit)\n        if (final.length !== ideas.length){\n            setIdeas(final)\n        }\n        \n    }, [props.newIdeas, ideas, ideasInit])\n    \n    useEffect(() => {\n        if (ideasDidSet === false){\n\n            const handleIdeaListLookup = (response, status) => {\n                //   console.log(response, status)\n                if (status === 200){\n                    // const finalIdeasInit = [...response].concat(ideasInit)\n                    // alert(response)\n                    setIdeasInit(response)\n                    setIdeasDidSet(true)\n                } else {\n                    alert(\"There was an error\")\n                }\n            }\n            apiIdeaList(props.username, handleIdeaListLookup)\n        }\n      }, [ideasInit, ideasDidSet, props.username, setIdeasDidSet])\n    //   console.log(\"ideas is\" + ideas)\n      return ideas.map((item, index)=>{\n        return <Idea idea={item} className='my-5 py-5 border' key={`${index}-{item.id}`}/>\n    })\n}","import React, {useEffect, useState} from 'react'\nimport {IdeasList} from './list'\nimport {IdeaCreate} from './create'\nimport {Idea} from './detail'\nimport {apiIdeaDetail} from './lookup'\n\n\nexport function IdeasComponent(props){\n\n    const canPost = props.canPost === \"false\" ? false : true\n    console.log(\"props:\", props)\n    const [newIdeas, setNewIdeas] = useState([])\n\n    const handleNewIdea = (newIdea)=>{\n        let tempNewIdeas = [...newIdeas]\n        tempNewIdeas.unshift(newIdea)\n        setNewIdeas(tempNewIdeas)\n    }\n\n    return <div className={props.className}>\n        {canPost === true && <IdeaCreate didPost={handleNewIdea} className='col-12 mb-3'/>}\n        <IdeasList newIdeas={newIdeas} {...props}/>\n    </div> \n}\n\nexport function IdeaDetailComponent(props){\n    const {ideaId} = props\n    const [didLookup, setDidLookup] = useState(false)\n    const [idea, setIdea] = useState(null)\n    \n    useEffect(()=>{\n        const handleBackendLookup = (response, status) =>{\n            if(status === 200){\n                setIdea(response)\n            }\n            else{\n                alert(\"There's an error finding this Idea. \")\n            }\n        }\n        if(!didLookup){\n            apiIdeaDetail(ideaId, handleBackendLookup)\n            setDidLookup(true)\n        }\n    }, [ideaId, didLookup, setDidLookup])\n    return idea === null ? null : <Idea idea={idea} className={props.className}/>\n}\n\n\n\n","// useEffect allows us to run HTTP request\nimport React from 'react'; \nimport logo from './logo.svg';\nimport './App.css';\n\nimport {IdeasComponent} from './ideas'\n\nfunction App() {\n    \n \n    \n//   [] is where the dependencies go\n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <div>\n            <IdeasComponent/>\n        </div>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {IdeasComponent, IdeaDetailComponent} from './ideas'\n\n\nconst appElement = document.getElementById(\"root\")\nif(appElement){\n    // console.log(\"appElement dataset\", appElement.dataset)\n    ReactDOM.render(\n        <React.StrictMode>\n          <App />\n        </React.StrictMode>,\n        appElement\n      );\n}\n\nconst e = React.createElement\nconst ideasElement = document.getElementById(\"edtech-wishlist\")\nif(ideasElement){  \n\n    ReactDOM.render(\n        e(IdeasComponent, ideasElement.dataset),\n        ideasElement\n      );\n}\n\nconst ideaDetailElement = document.querySelectorAll(\".edtech-wishlist-detail\")\n\nideaDetailElement.forEach(container => {\n    ReactDOM.render(\n        e(IdeaDetailComponent, container.dataset),\n        container\n      );\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}